@model UserDiary


<div class="container pt-4">
	<div class="row">

		@{
			if (User.IsInRole("User"))
			{
				@if (Model != null)
				{

					<div class="col-md-12">
						<div class="card bg-light ">
							<div class="card-header d-flex justify-content-between align-items-center bg-primary" style="max-height: 300px; overflow-y: auto;">
								<h4>Današnji Dnevnik</h4>
								<p>Datum: @Model.DiaryDate.ToShortDateString()</p>
							</div>
							<div class="card-body d-flex justify-content-between align-items-center">
								<h5 class="card-text text-dark fw-bold">Proteini:@String.Format("{0:0.00}", Model.ProteinsSummary) g</h5>
								<h5 class="card-text text-dark fw-bold">Ugljeni Hidrati: @String.Format("{0:0.00}", Model.CarbsSummary)</h5>
								<h5 class="card-text text-dark fw-bold">Masti: @String.Format("{0:0.00}", Model.FatSummary)</h5>
								<h5 class="card-text text-dark fw-bold">Kalorije: @String.Format("{0:0.00}", Model.CaloriesSummary)</h5>

								<div class="card shadow mt-3">
									<h5 class="card-header bg-dark">List Hrane</h5>
									<div class="card-body bg-secondary text-center" style="max-height: 300px; overflow-y: auto;">
										<table class="table table-secondary">
											<thead>
												<tr>
													<th>Hrana</th>
													<th>Količina (g)</th>
													<th></th>

												</tr>
											</thead>
											<tbody>
												@foreach (var food in Model.DailyFood)
												{
													<tr>
														<td>@food.FoodName</td>
														<td>@food.Grams g</td>
														<td class="text-center">
															<div class="col-auto w-75 text-center justify-content-center" role="group">
																<a asp-controller="Diary" asp-action="EditFood" asp-route-foodId="@food.Id" class="btn-primary btn w-75 mx-2">
																	<i class="bi bi-pencil-square"></i> Izmeni
																</a>
																<a asp-controller="Diary" asp-action="DeleteFood" asp-route-foodId="@food.Id" class="btn btn-danger w-75 mx-2">
																	<i class="bi bi-trash"></i> Obriši
																</a>
															</div>
														</td>


													</tr>
												}
											</tbody>
										</table>
									</div>
								</div>
							</div>
							<div class="d-flex justify-content-center">

								<div class="col-auto text-center">

									<a asp-controller="Food" asp-action="Index" class="btn btn-primary border">Nazad na hranu</a>
								</div>
							</div>
						</div>
					</div>

				}
				else
				{


					<div class="col-md-12">
						<div class="card bg-light ">
							<div class="card-header d-flex justify-content-between align-items-center bg-primary" style="max-height: 300px; overflow-y: auto;">
								<h4>Današnji Dnevnik</h4>
								<p>Date: @DateTime.Now.Date.ToShortDateString()</p>
							</div>
							<div class="card-body d-flex justify-content-between align-items-center">
								<h5 class="card-text text-dark fw-bold">Proteini: 0 g</h5>
								<h5 class="card-text text-dark fw-bold">Ugljeni Hidrati: 0 g</h5>
								<h5 class="card-text text-dark fw-bold">Masti: 0 g</h5>
								<h5 class="card-text text-dark fw-bold">Kalorije: 0 kcal</h5>

								<div class="card shadow mt-3">
									<h5 class="card-header bg-dark">Lista Hrane</h5>
									<div class="card-body bg-secondary text-center" style="max-height: 300px; overflow-y: auto;">
										<table class="table table-secondary">
											<thead>
												<tr>
													<th>Hrana</th>
													<th>Količina (g)</th>
													<th></th>

												</tr>
											</thead>
											<tbody>

												<tr>
													<td>/</td>
													<td>/</td>



												</tr>

											</tbody>
										</table>
									</div>
								</div>
							</div>
							<div class="d-flex justify-content-center">

								<div class="col-auto text-center">

									<a asp-controller="Food" asp-action="Index" class="btn btn-primary border">Nazad na hranu</a>
								</div>
							</div>
						</div>
					</div>
				}
			}
			
		}
	</div>
</div>

